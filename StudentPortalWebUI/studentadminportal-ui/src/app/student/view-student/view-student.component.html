<div class="page-header" id="page-header">
  <div class="container">
    <h1> {{header}} </h1>
  </div>
</div>

<div class="row paddedrow" id="go-back">
  <div class="col-xs-11 end-xs">
    <a routerLink="/student">
      <button mat-raised-button color="primary">
        <mat-icon>chevron_left</mat-icon>
        Go back
      </button>
    </a>
  </div>
</div>

<div class="row center-xs">
  <div class="col-xs-4" style="background-color:#f1f1f1; padding:2em ; border-radius:10px 0px 0px 10px" id="table">
    <form #updateForm="ngForm">
      <div class="row">
        <div class="col-xs-6">
          <mat-form-field appearance="outline">
            <mat-label>First Name</mat-label>
            <input required matInput [(ngModel)] = "studentData.firstName" name="firstName">
            <mat-error>First Name is required</mat-error>
          </mat-form-field>
        </div>
        <div class="col-xs-6">
          <mat-form-field appearance="outline" color="primary">
            <mat-label>Last Name</mat-label>
            <input required type="text" matInput [(ngModel)] = "studentData.lastName" name="lastName">
            <mat-error>Last Name is required</mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <mat-form-field appearance="outline">
            <mat-label>Choose a date</mat-label>
            <input required matInput [matDatepicker]="picker" [(ngModel)] = "studentData.dateOfBirth" name="dateOfBirth">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error>Date of birth is required</mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-7">
          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input required matInput [(ngModel)] = "studentData.email" name="email">
          </mat-form-field>
        </div>
        <div class="col-xs-5">
          <mat-form-field appearance="outline" color="primary">
            <mat-label>Mobile</mat-label>
            <input required type="phone" matInput [(ngModel)] = "studentData.mobile" name="mobile">
            <mat-error>Mobile is required</mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-5">
          <mat-form-field appearance="outline">
            <mat-label >Gender</mat-label>
            <mat-select required [(ngModel)]="studentData.genderId" name="gender">
              <mat-option *ngFor="let gender of genderList" [value]="gender.id"> {{gender.description}} </mat-option>
            </mat-select>
            <mat-error>Select a gender</mat-error>

          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <mat-form-field appearance="outline">
            <mat-label>Postal Address</mat-label>
            <textarea required matInput [(ngModel)] = "studentData.address.postalAddress" name="postalAddress"></textarea>
          <mat-error>Postal Address is required</mat-error>

          </mat-form-field>
        </div>
     </div>
     <div class="row">
      <div class="col-xs-12">
        <mat-form-field appearance="outline">
          <mat-label>Physical Address</mat-label>
          <textarea required matInput [(ngModel)] = "studentData.address.physicalAddress" name="physicalAddress"></textarea>
          <mat-error>Physical Address is required</mat-error>

        </mat-form-field>
      </div>
   </div>
   <div class="row">
     <div class="col-xs-6 start-xs">
      <button (click)="onUpdate()" mat-raised-button color="primary" *ngIf="!newStudent">
        Update
      </button>
     </div>
     <div class="col-xs-6 end-xs">
      <button (click)="onDelete()" mat-raised-button color="warn" *ngIf="!newStudent">
        Delete
      </button>
       </div>
       <div class="col-xs-6 start-xs">
        <button (click)="onAdd()" mat-raised-button color="primary" *ngIf="newStudent">
          Add
        </button>
       </div>
     </div>
    </form>
  </div>
  <div class="col-xs-4" id="photo">
    <div class="row">
      <div class="col-xs-12 center-xs extend" style="background-color:#f1f1f1; padding:2em ; border-radius:0px 10px 10px 0px">
        <div>
          <img [src]="displayProfileImage" alt="profile Image" class="imageContainer">
          <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        </div>
        <div>
          <input hidden (click)="uploadImage()" type="file" placeholder="Upload Photo">
        </div>
      </div>
    </div>
  </div>
</div>
